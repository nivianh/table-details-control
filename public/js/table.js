(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n(r.key),r)}}function n(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var r=o.call(e,n||"default");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}!function(t){"use strict";var n=function(){return n=function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.initDetailsControl()},o=[{key:"initDetailsControl",value:function(){var e=this;t(document).on("click","td.column-key-details-control .table-row-expand-icon",(function(n){n.preventDefault();var o=t(n.currentTarget),r=o.closest("table").prop("id"),a=t(this).closest("tr"),i=window.LaravelDataTables[r].row(a),l=i.child;if(o.hasClass("expanded"))l.hide(),a.removeClass("shown"),o.removeClass("expanded");else{a.addClass("shown"),o.addClass("expanded");var c=o.data("url");if(c)t.ajax({type:o.data("method")||"GET",url:c,beforeSend:function(){i.child('<div class="text-center"><div class="my-4 spinner-border text-info" role="status"></div></div>',"table-details-control-content").show()},success:function(t){var n;t.error?Botble.showError(t.message):(i.child((null==t||null===(n=t.data)||void 0===n?void 0:n.html)||(null==t?void 0:t.data)||t,"table-details-control-content"),e.afterAppendChild(i))},error:function(t){Botble.handleError(t)}});else{var d=o.closest(".table-details-wrapper").find(".table-details-control-main");d.length&&i.child(d.html(),"table-details-control-content").show()}}}))}},{key:"afterAppendChild",value:function(e){var n=e.child();window.htmldiff&&t.each(n.find(".html-diff-content"),(function(e,n){t(n).html(htmldiff(t(n).data("original"),t(n).html()))})),jQuery().fancybox&&n.find(".fancybox").fancybox({openEffect:"none",closeEffect:"none",overlayShow:!0,overlayOpacity:.7,helpers:{media:{}}}),jQuery().tooltip&&n.find('[data-bs-toggle="tooltip"]').tooltip({placement:"top",boundary:"window"})}}],o&&e(n.prototype,o),r&&e(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,o,r}();t((function(){new n,window.PluginTableManagement=n}))}(jQuery,jQuery.fn.dataTable)})();